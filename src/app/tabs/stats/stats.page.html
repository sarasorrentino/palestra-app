<app-header title="Your Stats"></app-header>

<ion-content [fullscreen]="true" class="ion-padding">

    <p class="text-divider">Performance</p>
    <ion-grid>
        <ion-row>
            <ion-col>
                <div class="stats-box">
                    <div class="box-icon">
                        <ion-icon name="flame"></ion-icon>
                        <ion-label>Workouts <br> Completed</ion-label>
                    </div>
                    <div class="box-value">
                        <p>{{totalWorkoutNumber}}</p>
                    </div>
                </div>
            </ion-col>
            <ion-col>
                <div class="stats-box">
                    <div class="box-icon">
                        <ion-icon name="stopwatch"></ion-icon>
                        <ion-label>Total <br> Duration</ion-label>
                    </div>
                    <div class="box-value">
                        <p>{{totalWorkoutTime}}</p>
                    </div>
                </div>
            </ion-col>
        </ion-row>
    </ion-grid>

    <p class="text-divider">Workout History</p>
    <div *ngIf="totalWorkoutNumber === 0" class="chart-container">
        <p (click)="backToHome()"><strong>No workouts completed.</strong><br>Have your first workout to visualise your stats!</p>
    </div>
    <div  *ngIf="totalWorkoutNumber != 0" class="chart-container">
        <canvas #workoutHistoryChart></canvas>
    </div>
      
    <p class="text-divider">Loads History</p>
    <div class="chart-container">
        <div class="exercise-chart-container">
            <ion-select [(ngModel)]="selectedExerciseName" (ionChange)="onExerciseChange()" label="Exercise" placeholder="Select exercise" interface="action-sheet">
              <ion-select-option *ngFor="let exercise of exerciseNames" [value]="exercise">{{ exercise }}</ion-select-option>
            </ion-select>
            <div style="width: 100%; height: 300px;">
                <canvas #exerciseLoadsChart></canvas>
            </div>
        </div>
    </div>
</ion-content>      